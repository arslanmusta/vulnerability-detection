package cve.vulnerabilityservice.task;

import cve.vulnerabilityservice.proxy.cve.CveProxy;
import cve.vulnerabilityservice.proxy.cve.model.CveResponse;
import org.springframework.scheduling.annotation.Scheduled;
import org.springframework.stereotype.Component;

@Component
public class DatabaseUpdateTask {

    private final CveProxy cveProxy;

    public DatabaseUpdateTask(CveProxy cveProxy) {
        this.cveProxy = cveProxy;
    }

    @Scheduled(fixedDelayString = "${cve.update.period}")
    public void update() {
        CveResponse cveResponse = cveProxy.GetCve("https://nvd.nist.gov/feeds/json/cve/1.1/nvdcve-1.1-modified.json.gz");
    }
}
